<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec='http://www.thymeleaf.org/extras/spring-security'>

<head>
    <th:block th:replace="~{fragments/commons::head}"></th:block>
    <link rel="stylesheet" href="/css/reservations-styles.css">
    <title>Резервации</title>
</head>
<body>

    <header th:replace="~{fragments/commons::header}"></header>

    <main>
        <h1>Резервации</h1>

        <div th:if="${successMessage}" class="alert alert-success" role="alert">
            <p class="success" th:text="${successMessage}"></p>
        </div>

        <div th:if="${failureMessage}" class="alert alert-failure" role="alert">
            <p th:text="${failureMessage}"></p>
        </div>

        <div class="reservations-info">
            <table class="reservations-info-table">
                <tbody>
                    <tr>
                        <td class="excursionName">Име на екскурзията</td>
                        <td class="fullName">Направил резервацията</td>
                        <td class="email">E-mail</td>
                        <td class="phoneNumber">Телефон</td>
                        <td class="payment">Начин на плащане</td>
                        <td class="touristsCount">Брой туристи</td>
                        <td class="touristNames">Имена на туристите</td>
                        <td class="comments">Коментари</td>
                      <!--
                        <td class="add-employee" sec:authorize="hasRole('MANAGER')">Повиши</td>
                        <td class="delete-employee" sec:authorize="hasRole('MANAGER')">Уволни</td> -->
                    </tr>
                    <tr th:each="reservation : ${reservations}">
                        <td th:text="${reservation.getExcursionName()}" class="excursionName">Име на екскурзията</td>
                        <td th:text="${reservation.getFullName()}" class="fullName">Име</td>
                        <td th:text="${reservation.getEmail()}" class="email">E-mail</td>
                        <td th:text="${reservation.getPhoneNumber()}" class="phoneNumber">Телефон</td>
                        <td th:text="${reservation.getPayment()}" class="payment">Адрес</td>
                        <td th:text="${reservation.getTouristsCount()}" class="touristsCount">Степен на образование</td>
                        <td th:text="${reservation.getTouristNames()}" class="touristNames">Специалност</td>
                        <td th:text="${reservation.getComments()}" class="comments">Говорими езици</td>
                      <!--
                        <td class="add-employee" sec:authorize="hasRole('MANAGER')">
                            <form th:action="@{/excursions/reservations}" th:method="PUT">
                               CSRF токен
                              <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
                              <button class="button-add" type="submit">Повиши</button>
                            </form>
                        </td>
                        <td class="delete-employee" sec:authorize="hasRole('MANAGER')">
                            <form th:action="@{/excursions/reservations}" th:method="DELETE">
                               CSRF токен
                              <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
                              <button class="button-delete" type="submit">Уволни</button>
                            </form>
                        </td> -->
                    </tr>
                </tbody>
            </table>
        </div>

        <p th:if="${reservations.size() == 0}">Все още няма направени резервации!</p>
    </main>

    <footer th:replace="~{fragments/commons::footer}"></footer>

    <script src="\js\show-menu.js"></script>
    <script src="\js\show-menu-profile.js"></script>
    <script src="\js\show-menu-team.js"></script>

</body>
</html>